# Cloudflare VLESS/VMess 代理部署与批量生成工具

这是一个强大且易于使用的 Cloudflare 工具集，旨在帮助用户快速部署高性能的 VLESS/VMess 代理节点，并提供一个灵活的在线工具来批量生成自定义节点。

本项目主要包含两个核心部分：

1.  **`worker-page` 代理部署**: 一个可以直接部署到 Cloudflare Pages 的 VLESS/VMess 代理脚本。部署后，您可以获得一个稳定的代理服务和对应的订阅链接。
2.  **`节点生成` 工具**: 一个纯前端的、数据驱动的在线节点生成器。您可以用它来批量生成具有不同出口 IP 和域名的节点，极大地增强了连接的灵活性和可用性。

## ✨ 项目特色

*   **一键部署**: 只需将 `worker-page` 文件夹上传至 Cloudflare Pages，即可拥有自己的代理服务。
*   **高度灵活**: `节点生成` 工具允许您使用内置的优选 IP/域名，或完全自定义自己的地址池。
*   **地区筛选**: 内置的数据源按地理位置（美国、欧洲、亚洲等）分类，方便您生成指定出口地区的节点。
*   **支持两大协议**: 完美兼容 VLESS 和 VMess 两种主流协议的链接模板。
*   **纯静态，无服务器依赖**: `节点生成` 工具完全在您的浏览器中运行，无需任何后端服务器，安全可靠。
*   **界面友好**: 使用 Bootstrap 5 构建，界面美观，交互体验良好，对新手非常友好。

## 📁 项目文件结构说明

```
.
├── 节点生成/
│   ├── public/
│   │   ├── data.js       # 内置的 IP 和域名数据源
│   │   └── index.html      # 节点生成器的主页面
│   └── (其他旧文件...)     # ips-v4.txt 等为旧版示例，当前版本不直接使用 里面也有很多 ipv4 ipv6 的 cloudflare 网段可以参考
│
└── worker-page/
    └── _worker.js        # 部署到 Cloudflare Pages 的核心代理脚本
```

---

## 🚀 第一部分：部署自己的代理节点 (`worker-page`)

这部分将指导您如何将 `_worker.js` 部署到 Cloudflare Pages，从而获得一个基础的代理服务和订阅链接。

### 准备工作
*   您需要一个 Cloudflare 账户。

### 部署步骤

1.  **登录 Cloudflare**:
    打开 [Cloudflare 官网](https://dash.cloudflare.com/) 并登录您的账户。

2.  **修改 `_worker.js` (关键步骤！)**:
    *   在您本地的 `worker-page` 文件夹中，找到 `_worker.js` 文件并用文本编辑器打开它。
    *   找到下面这行代码（通常在文件顶部）：
        ```javascript
        let userID = "86c50e3a-5b87-49dd-bd20-03c7f2735e40";
        ```
    *   将引号中的 `86c50e3a-5b87-49dd-bd20-03c7f2735e40` **替换为您自己的 UUID**。您可以使用在线 UUID 生成工具来创建一个新的。**这一步是为了保护您的服务不被滥用。**
    *   修改完成后，保存文件。

3.  **进入 Pages 并创建项目**:
    *   在 Cloudflare 仪表板左侧菜单中，点击 `Workers & Pages`。
    *   选择 `创建应用程序` -> `Pages` -> `上传资产`。

4.  **上传并部署**:
    *   给您的项目起一个名字，例如 `my-proxy-page`。
    *   将您本地修改好的 **`worker-page` 文件夹** 整个拖拽到上传区域。
    *   点击 `保存并部署`。

5.  **部署成功**:
    *   等待片刻，Cloudflare 会为您生成一个域名，例如 `my-proxy-page.pages.dev`。
    *   现在，您的代理服务已经在线运行了！

### 如何使用代理

*   访问 `https://<你的Pages域名>/<你的UUID>` （例如: `https://my-proxy-page.pages.dev/86c50e3a-5b87-49dd-bd20-03c7f2735e40`）。
*   您会看到一个配置页面，其中包含了可直接导入的节点链接和各种客户端的订阅链接。

---

## 🛠️ 第二部分：使用节点批量生成工具 (`节点生成`)

当您觉得基础代理提供的几个节点不够用，或者想使用更快的 IP 时，这个强大的工具就派上用场了。

### 工作原理
这个工具的核心是 `index.html` (界面逻辑) 和 `data.js` (数据源)。`index.html` 会加载 `data.js` 中预设的、按地区分类的 Cloudflare IP 段和优选域名，然后让您根据自己的需求，将它们与您的 VLESS/VMess 模板链接随机组合，批量生成新的节点。

### 如何使用

1.  **打开工具页面**:
    *   在 `节点生成` 文件夹中，找到 `public` 子文件夹。
    *   直接用您的电脑浏览器（推荐 Chrome 或 Firefox）打开 `index.html` 文件。

2.  **提供数据源 (二选一)**:
    *   **使用内置数据 (推荐)**: 在页面的“第一步”区域，保持在“内置地区数据”选项卡。根据需要，勾选或取消勾选不同的地区分组（例如，只选择“美国”来生成美国出口的节点）。
    *   **使用自定义数据**: 点击“自定义粘贴数据”选项卡，将您自己收集的 IP、CIDR 网段或域名粘贴到对应的文本框中。

3.  **粘贴模板**:
    *   在“第二步”的输入框中，粘贴一个您可用的 VLESS 或 VMess 链接作为模板。这个链接可以来自您第一步部署的代理，也可以是任何其他有效的链接。
    *   工具会自动解析模板，并根据您选择的数据源，在下方实时预估可生成的最大节点组合数量。

4.  **生成和复制**:
    *   在“第三步”中，输入您想要生成的节点数量。
    *   点击 `生成节点` 按钮。
    *   生成的结果会显示在下方的文本框中，点击 `一键复制` 即可将所有链接复制到剪贴板，然后导入到您的客户端软件中。

### 如何自定义内置数据
如果您想长期使用自己收集的 IP 或域名，可以直接编辑 `public/data.js` 文件，按照里面的格式修改或添加数据，保存后重新打开 `index.html` 即可生效。

### 💡 如何快速筛选可用节点 (优选IP/域名)

这才是本工具最高效的用法。

1.  **大批量生成与导入**: 按照上述步骤，生成**大量**（例如 100-200 个）节点，并一次性将它们全部导入到您的客户端（如 v2rayN, Clash, Sing-Box 等）。

2.  **测试真延迟 (关键！)**:
    *   **强烈建议不要使用“测试节点速度(TCP)”功能**。这会向每个节点发起实际的下载请求，非常消耗时间和服务器资源，效率低下。
    *   **请使用“测试服务器真延迟”或“Ping/ICMP测试”功能**。这只会发送一个小小的探测包来测试连通性和延迟，速度极快，效率极高。

3.  **筛选与清理**:
    *   测试完成后，在客户端中**按延迟从低到高排序**。
    *   **删除所有延迟为 -1 或超时的节点**。

4.  **完成优选**:
    *   恭喜！剩下的就是从您当前网络环境出发，连接质量最好、延迟最低的节点。您已经通过这种方式，快速完成了对 Cloudflare IP 或域名的“优选”。

## 🙏 致谢

*   `worker-page` 中的代理脚本来源于 **甬哥** 的无私分享，他是一位优秀的技术博主。
    *   **博客地址**: [https://ygkkk.blogspot.com](https://ygkkk.blogspot.com)
    *   **YouTube 频道**: [https://www.youtube.com/@ygkkk](https://www.youtube.com/@ygkkk)
    *   **TG 电报群组**: [https://t.me/ygkkktg](https://t.me/ygkkktg)
    *   **TG 电报频道**: [https://t.me/ygkkktgpd](https://t.me/ygkkktgpd)
*   `节点生成` 工具的构思、开发与迭代由 **Google Gemini** 根据用户需求完成。

## ⚠️ 免责声明

本项目仅供学习和技术研究使用。请遵守您所在地区的相关法律法规，勿将此项目用于任何非法用途。对于使用本项目所造成的任何后果，项目作者和贡献者概不负责。